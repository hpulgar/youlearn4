<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
 <h:head>

n
	<!--Meta Tags-->
      
	<!--Title-->
	<title>Youlearn - Amigos</title>

        <style>
            .ui-dialog {
    width: auto !important;
}
       
        </style>
<script type="text/javascript">  
PrimeFaces.locales['es'] = {
    closeText: 'Cerrar',
    prevText: 'Anterior',
    nextText: 'Siguiente',
    monthNames: ['Enero','Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
    monthNamesShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun','Jul','Ago','Sep','Oct','Nov','Dic'],
    dayNames: ['Domingo','Lunes','Martes','Miércoles','Jueves','Viernes','Sábado'],
    dayNamesShort: ['Dom','Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'],
    dayNamesMin: ['D','L','M','X','J','V','S'],
    weekHeader: 'Semana',
    firstDay: 1,
    isRTL: false,
    showMonthAfterYear: false,
    yearSuffix: '',
    timeOnlyTitle: 'Sólo hora',
    timeText: 'Tiempo',
    hourText: 'Hora',
    minuteText: 'Minuto',
    secondText: 'Segundo',
    currentText: 'Fecha actual',
    ampm: false,
    month: 'Mes',
    week: 'Semana',
    day: 'Día',
    allDayText : 'Todo el día'
};
</script>
	
	
<!-- END head -->
   </h:head>

<!-- BEGIN body -->
<h:body >
    
        <h:form id="yqsesho">

            <p:galleria  value="#{archivoController.verImagenes(4,usuarioController.id_user,usuarioController.id_user)}" var="image" panelWidth="500" panelHeight="313"  rendered="true">
                   <p:graphicImage value="#{image.ubicacion}"   title="#{image.nomArchivo}"/>
                </p:galleria>
        </h:form>
    
        <h:form>
            <p:fileUpload  dragDropSupport="true" multiple="true" update="yqsesho" process="@all" mode="advanced" auto="true" fileLimitMessage="Solo puede subir una imagen a la vez"  fileLimit="20"  cancelLabel="Cancelar" uploadLabel="Cargar" 
                               invalidFileMessage="Formato no permitido" 
                               sequential="true" fileUploadListener="#{archivoController.upload2}" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" sizeLimit="1000000" label="Seleccione un archivo"  >
                           
               <f:attribute name="tempDetalle" value="muro" />
               <f:attribute name="tempSubid" value="#{archivoController.subidArchivo}" />
               <f:attribute name="idAux" value="#{usuarioController.id_user}" />
               <f:attribute name="idUsuario" value="#{usuarioController.id_user}" />
         </p:fileUpload>
                
            <ui:repeat var="c" value="#{archivoController.verImagenes2(4, usuarioController.id_user)}">
                     <h:graphicImage onclick="PF('#{c.idArchivo}').show();" width="20%" height="30%"  value="#{c.ubicacion}" rendered="#{c.idTipoArchivo.idTipo eq '1' or c.idTipoArchivo.idTipo eq '2' or c.idTipoArchivo.idTipo eq '3'}" />
                
                     <p:dialog  header="#{c.descripcion}" widgetVar="#{c.idArchivo}" modal="true" width="50%" height="50%">
                                              
       
                                             <h:graphicImage  value="#{c.ubicacion}" rendered="#{c.idTipoArchivo.idTipo eq '1' or c.idTipoArchivo.idTipo eq '2' or c.idTipoArchivo.idTipo eq '3'}" />

                                                 
                                                  
                                          </p:dialog> 
                 </ui:repeat>             
                 <!--<ui:repeat var="c" value="#/{archivoController.verImagenes(4,usuarioController.id_user)}">-->
                    
                    <!-- <h:graphicImage width="100" height="100"  value="#/{c.ubicacion}" rendered="#/{c.idTipoArchivo.idTipo eq '1' or c.idTipoArchivo.idTipo eq '2' or c.idTipoArchivo.idTipo eq '3'}" />-->
                
                    
                 
                 
                 <!--</ui:repeat> -->            
                 
               
                
                 
    </h:form>
    
        
    
  
                
</h:body>

</html>
