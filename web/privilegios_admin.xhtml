<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Facelet Title</title>
        
        
     
        
    </h:head>
    <h:body>
         
      
           
                                                    
       
        
       
         
     
      
       <h:form id="Usuarios">
           <p:dataTable id="recorreUsuarios" var="ar" value="#{usuarioController.tablaUsuario()}" rows="5" paginator="true"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,15" emptyMessage="No se encontraron resultados" currentPageReportTemplate="(Pagina: {currentPage}/{totalPages})">
               <p:column headerText="IDUsuario" id="IDUsuario" filterBy="#{ar.idUsuario}" sortBy="#{ar.idUsuario}">
                        <f:facet name="IDUsuario">
                            <h:outputText value="ID Usuario" />
                        </f:facet>
                        <h:outputText value="#{ar.idUsuario}" />
                        </p:column>
                                         
               <p:column headerText="Username" id="Username" filterBy="#{ar.username}" sortBy="#{ar.username}">
                        <f:facet name="Username">
                            <h:outputText value="Username" />
                        </f:facet>
                   <h:outputText value="#{ar.username}" />
                        </p:column>
                     
                     <p:column headerText="Tipo de usuario">
                        <f:facet name="Tipo de usuario">
                            <h:outputText value="Tipo usuario" />
                        </f:facet>
                         <h:outputText value="#{ar.idPerfil.descripcion}" />
                        </p:column>
               
                 <p:column headerText="Opciones">
                        <f:facet name="Opciones">
                            <h:outputText value="Opciones" />
                        </f:facet>
                     <p:commandButton action="#{usuarioController.aumentaPriv(ar.idUsuario,ar.idPerfil.idPerfil)}" value="+" update="@form" />   
                     <p:commandButton action="#{usuarioController.disminPriv(ar.idUsuario,ar.idPerfil.idPerfil)}" value="-" update="@form" />   
                            
                   
                        </p:column>
                                         
                     

                       

                      
                    </p:dataTable>
       </h:form>
      

      
       
      
      
        
    
        
        
        
    </h:body>
</html>

